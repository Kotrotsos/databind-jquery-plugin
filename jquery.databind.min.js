(function(a){a.fn.fieldsToJSON=function(){if(!this.length){return false}var b=this,c={},d=c;b.find(':input[type!="checkbox"][type!="radio"], input:checked').each(function(){var g=this.name;if(g!=""||g===undefined){g=g.split(".")}else{g=a(this).data("bind").split(".")}var f=g.length-1,e=0;if(g[0]){for(;e<f;e++){d=d[g[e]]=d[g[e]]||(g[e+1]==""?[]:{})}if(d.length!=undefined){d.push(a(this).val())}else{d[g[f]]=a(this).val()}d=c}});return c};a.fn.JSONToFields=function(g){var h=this,f=a("[data-bind]:input",h),c=g,d="",e="",b="";a.each(f,function(j){d=a(f[j]);if(d.attr("data-bind").length){var l=d.attr("data-bind");var o=l,m=g,n=o.split("."),k;for(k=0;k<n.length;k++){m=m[n[k]]}if(d.attr("type")=="text"||d.is("textarea")){d.attr("value",m)}else{if(d.attr("type")=="checkbox"){if(m==1){d.attr("checked","checked")}}else{if(d.is("select")){d.val(m)}}}}})}})(jQuery);